"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1493],{20698:function(e,n,r){var t=r(34051),o=r.n(t),i=r(85893),a=r(27948),s=r(15861),c=r(49990),l=r(61214),u=r(15503),d=(r(70853),r(72211),r(11163)),p=r(39418),f=r(67294);function h(e,n,r,t,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,o)}function g(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function a(e){h(i,t,o,a,s,"next",e)}function s(e){h(i,t,o,a,s,"throw",e)}a(void 0)}))}}function x(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var m=function(){var e=(new Date).getHours();return e<12?"Good Morning,":e<18?"Good Afternoon,":"Good Evening,"},b=(0,l.Z)((function(e){return{root:{padding:e.spacing(3)},banner:{display:"flex",justifyContent:"space-between",marginRight:e.spacing(3),marginLeft:e.spacing(3)},date:x({borderStyle:"solid",borderWidth:1,borderColor:e.colours.lightBlue,borderRadius:15,padding:"7px 15px 7px 15px",display:"flex"},e.breakpoints.down("sm"),{display:"none"}),welcomeText:{display:"flex"},userName:{paddingLeft:5,fontWeight:500,color:"rgba(134,168,231,1)"},dateText:{marginLeft:10,color:e.colours.lightBlue},dateIcon:x({color:"#555555"},"color",e.colours.lightBlue),lowerText:{color:e.text.darkGray,marginLeft:e.spacing(3)}}}));n.Z=function(){var e=b(),n=(0,d.useRouter)(),r=u.Z.auth().currentUser.uid,t=(0,f.useState)(""),l=t[0],h=t[1],x=(new Date).toDateString();return(0,f.useEffect)((function(){function e(){return(e=g(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.firestore().collection("users").doc(r).get().then((function(e){h(e.data().userName)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),(0,i.jsxs)(a.Z,{className:e.root,children:[(0,i.jsxs)("div",{className:e.banner,children:[(0,i.jsxs)("div",{className:e.welcomeText,children:[(0,i.jsx)(s.Z,{variant:"h5",children:m()}),(0,i.jsx)(s.Z,{variant:"h5",className:e.userName,children:l+"!"})]}),(0,i.jsx)(c.Z,{onClick:function(){return n.push("/home/calendar")},children:(0,i.jsxs)("div",{className:e.date,children:[(0,i.jsx)(p.Z,{className:e.dateIcon}),(0,i.jsx)(s.Z,{className:e.dateText,children:x})]})})]}),(0,i.jsx)(s.Z,{className:e.lowerText,children:"Here are your upcoming events"})]})}},89826:function(e,n,r){r(85893);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}(0,r(26186).Z)((function(e){return{container:t({minHeight:"100vh",paddingTop:e.spacing(10),position:"sticky",top:0},e.breakpoints.up("sm"),{backgroundColor:"white",color:"#555"}),item:t({display:"flex",alignItems:"center",marginBottom:e.spacing(4)},e.breakpoints.up("sm"),{marginBottom:e.spacing(3),cursor:"pointer"}),icon:t({marginRight:e.spacing(1)},e.breakpoints.up("sm"),{fontSize:"18px"}),text:t({fontWeight:500},e.breakpoints.down("sm"),{display:"none"})}}))},52168:function(e,n,r){r.d(n,{Z:function(){return M}});var t=r(34051),o=r.n(t),i=r(85893),a=r(67294),s=r(45697),c=r.n(s),l=r(42293),u=r(77533),d=r(93946),p=r(78462),f=r(97212),h=r(10796),g=r(79953),x=r(326),m=r(10155),b=r(15861),v=r(25709),y=r(84918),j=r(27547),Z=r(13540),w=r(49990),k=r(69661),C=r(18987),N=r(11163),A=r(61214),S=r(25675),E={src:"/_next/static/media/sage2_logo.554911a5.png",height:942,width:3100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATUlEQVR4nGOc9vyt+38+hodMExmEmYQZ3rv++S/0mYHzoxzDbul/jGxPGae+fOvEyMDwg3EeAyeTEMMX5z8MXN8Y2P7IMuzj+cfA+hgAX7IYzRDlU/sAAAAASUVORK5CYII="},R=r(27948),T=(r(72211),r(15503),r(45608));r(480);function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function P(e,n,r,t,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,o)}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return O(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=240,B=(0,A.Z)((function(e){return{activeRoute:{backgroundColor:"#EFD3D7",borderRadius:"20px"},activeText:{color:"#000000"},activeIcon:{marginLeft:"30px",color:"#000000"},activeAvatar:{"& .MuiAvatar-root":{borderRadius:15,backgroundColor:"#EFD3D7",marginLeft:"-15px"}},avatar:{"& .MuiAvatar-root":{borderRadius:15,backgroundColor:"white",marginLeft:"-15px"}},icons:{marginLeft:"30px",color:"#8E8E8E"},text:{color:"#8E8E8E",fontWeight:800,marginLeft:"-10px"},listContainer:{margin:"20px"},logo:{padding:"20px"},sampleIcon:{backgroundColor:"yellow",borderRadius:"20px"},sampleText:{backgroundColor:e.colours.rose,padding:"4px",borderRadius:10,marginLeft:"-60px",paddingRight:50,paddingLeft:50},dashboardText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:55,paddingLeft:50},notifsText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:40,paddingLeft:50},calendarText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:70,paddingLeft:50},groupsText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:80,paddingLeft:50},logOutButton:{},root:{display:"flex",alignItems:"flex-end"}}}));function D(e){var n,r=(0,N.useRouter)(),t=B(),s=e.window,c=L(a.useState(!1),2),A=c[0],O=c[1],D=function(){O(!A)},M=[{text:"Dashboard",icon:(0,i.jsx)(v.Z,{}),path:"/home",onClick:function(){return r.push("/home")}},{text:"Calendar",icon:(0,i.jsx)(y.Z,{}),path:"/home/calendar",onClick:function(){return r.push("/home/calendar")}},{text:"Groups",icon:(0,i.jsx)(j.Z,{}),path:"/groups"==r.pathname?"/groups":"/groups/[group]"==r.pathname?"/groups/[group]":"/groups/[group]/event/[event]",onClick:function(){return r.push("/groups")}},{text:"Log out",icon:(0,i.jsx)(Z.Z,{}),onClick:(n=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.Z.logout();case 2:r.push("/login");case 3:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(e){P(i,t,o,a,s,"next",e)}function s(e){P(i,t,o,a,s,"throw",e)}a(void 0)}))})}],G=(0,i.jsxs)(R.Z,{children:[(0,i.jsx)(m.Z,{className:t.logo,children:(0,i.jsx)("div",{className:t.logoDiv,children:(0,i.jsx)(S.default,{src:E,alt:"sage logo",width:"600",height:"200"})})}),(0,i.jsx)(p.Z,{className:t.listContainer,children:M.map((function(e,n){var o=e.text,a=e.icon,s=e.path,c=e.onClick;return(0,i.jsxs)(f.ZP,{component:w.Z,onClick:c,children:[(0,i.jsx)(C.Z,{className:r.pathname==s?t.activeAvatar:t.avatar,children:(0,i.jsx)(k.Z,{children:a&&(0,i.jsx)(h.Z,{className:r.pathname==s?t.activeIcon:t.icons,children:a})})}),(0,i.jsx)("div",{className:r.pathname==s?t.sampleText:null,children:(0,i.jsx)(g.Z,{primary:o,className:r.pathname==s?t.activeText:t.text})})]},o)}))})]}),z=void 0!==s?function(){return s().document.body}:void 0;return(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(I,"px)")},ml:{sm:"".concat(I,"px")},display:{xs:"block",sm:"none"}},children:(0,i.jsxs)(m.Z,{children:[(0,i.jsx)(d.Z,{color:"error","aria-label":"open drawer",edge:"start",onClick:D,sx:{mr:2,display:{sm:"none"}},children:(0,i.jsx)(x.Z,{})}),(0,i.jsx)(b.Z,{variant:"h6",noWrap:!0,component:"div",children:"SAGE"})]})}),(0,i.jsx)(u.ZP,{container:z,variant:"temporary",open:A,onClose:D,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:I}},children:G}),(0,i.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:I,border:"none"}},open:!0,children:G})]})}D.propTypes={window:c().func};var M=D},480:function(e,n,r){var t=r(85893),o=(r(67294),r(45697)),i=r.n(o),a=r(37645),s=r(93946),c=r(50594),l=(r(70853),r(15503),r(11163),r(61214));function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(0,l.Z)((function(e){return{dialogCont:{padding:"50px"},membersList:{marginTop:e.spacing(-2),marginBottom:e.spacing(4)},avatarBgColor:{backgroundImage:"linear-gradient(".concat("rgba(134,168,231,1)",", ").concat("rgba(127,127,213,0.5)",")")}}}));var p=function(e){var n=e.children,r=e.onClose,o=d(e,["children","onClose"]);return(0,t.jsxs)(a.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){u(e,n,r[n])}))}return e}({sx:{m:0,p:2}},o,{children:[n,r?(0,t.jsx)(s.Z,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,t.jsx)(c.Z,{})}):null]}))};p.propTypes={children:i().node,onClose:i().func.isRequired}},11075:function(e,n,r){var t=r(34051),o=r.n(t),i=r(85893),a=r(67294),s=r(45697),c=r.n(s),l=r(42293),u=r(87357),d=r(66720),p=r(77533),f=r(93946),h=r(78462),g=r(97212),x=r(10796),m=r(79953),b=r(326),v=r(10155),y=r(15861),j=r(25709),Z=r(65817),w=r(84918),k=r(27547),C=r(13540),N=r(49990),A=r(69661),S=r(18987),E=r(11163),R=r(61214);function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function O(e,n,r,t,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,o)}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return T(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=240,I=(0,R.Z)((function(e){return{activeRoute:{backgroundColor:"#EFD3D7",borderRadius:"20px"},activeText:{color:"#000000"},activeIcon:{marginLeft:"30px",color:"#000000"},activeAvatar:{"& .MuiAvatar-root":{borderRadius:15,backgroundColor:"#EFD3D7",marginLeft:"-15px"}},avatar:{"& .MuiAvatar-root":{borderRadius:15,backgroundColor:"white",marginLeft:"-15px"}},icons:{marginLeft:"30px",color:"#8E8E8E"},text:{color:"#8E8E8E",fontWeight:800,marginLeft:"-10px"},listContainer:{margin:"20px"},logo:{padding:"20px"},sampleIcon:{backgroundColor:"yellow",borderRadius:"20px"},sampleText:{backgroundColor:"pink",padding:"4px",borderRadius:10,marginLeft:"-60px",paddingRight:50,paddingLeft:50},dashboardText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:55,paddingLeft:50},notifsText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:40,paddingLeft:50},calendarText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:70,paddingLeft:50},groupsText:{backgroundColor:"pink",padding:"4px",borderRadius:15,marginLeft:"-60px",paddingRight:80,paddingLeft:50},logOutButton:{},root:{display:"flex",alignItems:"flex-end"}}}));function B(e){var n,r=(0,E.useRouter)(),t=I(),s=e.window,c=P(a.useState(!1),2),R=c[0],T=c[1],B=function(){T(!R)},D=[{text:"Dashboard",icon:(0,i.jsx)(j.Z,{}),path:"/home",onClick:function(){return r.push("/home")}},{text:"Notifications",icon:(0,i.jsx)(Z.Z,{}),path:"/home/notifications",onClick:function(){return r.push("/home/notifications")}},{text:"Calendar",icon:(0,i.jsx)(w.Z,{}),path:"/home/calendar",onClick:function(){return r.push("/home/calendar")}},{text:"Groups",icon:(0,i.jsx)(k.Z,{}),path:"/groups"==r.pathname?"/groups":"/groups/[group]",onClick:function(){return r.push("/groups")}}],M=[{text:"Logout",icon:(0,i.jsx)(C.Z,{}),onClick:(n=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,firebase.logout();case 2:Router.push("/login");case 3:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(e){O(i,t,o,a,s,"next",e)}function s(e){O(i,t,o,a,s,"throw",e)}a(void 0)}))})}],G=(0,i.jsxs)("div",{children:[(0,i.jsx)(v.Z,{className:t.logo,children:(0,i.jsx)(y.Z,{align:"center",variant:"h3",children:"SAGE"})}),(0,i.jsx)(h.Z,{className:t.listContainer,children:D.map((function(e,n){var o=e.text,a=e.icon,s=e.path,c=e.onClick;return(0,i.jsxs)(g.ZP,{component:N.Z,onClick:c,children:[(0,i.jsx)(S.Z,{className:r.pathname==s?t.activeAvatar:t.avatar,children:(0,i.jsx)(A.Z,{children:a&&(0,i.jsx)(x.Z,{className:r.pathname==s?t.activeIcon:t.icons,children:a})})}),(0,i.jsx)("div",{className:r.pathname==s?t.sampleText:null,children:(0,i.jsx)(m.Z,{primary:o,className:r.pathname==s?t.activeText:t.text})})]},o)}))}),(0,i.jsx)(h.Z,{className:t.root,children:M.map((function(e,n){var r=e.text,t=e.icon,o=e.onClick;return(0,i.jsxs)(g.ZP,{component:N.Z,onClick:o,children:[t&&(0,i.jsx)(x.Z,{children:t}),(0,i.jsx)(m.Z,{primary:r})]},r)}))})]}),z=void 0!==s?function(){return s().document.body}:void 0;return(0,i.jsxs)(u.Z,{sx:{display:"flex",boxShadow:"none"},children:[(0,i.jsx)(d.ZP,{}),(0,i.jsx)(l.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(L,"px)")},ml:{sm:"".concat(L,"px")},display:{xs:"block",sm:"none"}},children:(0,i.jsxs)(v.Z,{children:[(0,i.jsx)(f.Z,{color:"error","aria-label":"open drawer",edge:"start",onClick:B,sx:{mr:2,display:{sm:"none"}},children:(0,i.jsx)(b.Z,{})}),(0,i.jsx)(y.Z,{variant:"h6",noWrap:!0,component:"div",children:"SAGE"})]})}),(0,i.jsxs)(u.Z,{component:"nav",sx:{width:{sm:L},flexShrink:{sm:0},boxShadow:"none"},"aria-label":"mailbox folders",children:[(0,i.jsx)(p.ZP,{container:z,variant:"temporary",open:R,onClose:B,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:L}},children:G}),(0,i.jsx)(p.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:L,border:"none"}},open:!0,children:G})]})]})}B.propTypes={window:c().func}},17320:function(e,n,r){r.d(n,{Z:function(){return ee}});var t=r(34051),o=r.n(t),i=r(85893),a=r(27948),s=r(15861),c=r(69661),l=r(49990),u=r(67294),d=r(27547),p=r(33570),f=r(61214),h=r(11163),g=r(15503),x=(r(72211),r(70853),r(480),r(83321)),m=r(64666),b=r(31425),v=r(6514),y=r(58951),j=r(37645),Z=r(98396),w=r(2734),k=r(67473),C=r(50594),N=r(93946),A=r(45697),S=r.n(A),E=r(77957),R=r(87357),T=r(28201),O=r(74721),P=r(41733),L=r(50891),I=r(73595),B=(r(45608),r(78462)),D=r(97212),M=r(98619),G=r(10796),z=r(79953),U=r(21519);function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function F(e,n,r,t,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,o)}function Y(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function a(e){F(i,t,o,a,s,"next",e)}function s(e){F(i,t,o,a,s,"throw",e)}a(void 0)}))}}function _(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function V(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function H(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return W(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=(0,f.Z)((function(e){return{textField:{margin:"10px auto"},editText:{color:e.colours.gradient1},iconColor:{color:e.colours.gradient1},nameIcon:{color:e.colours.gradient1},bioIcon:{color:e.colours.gradient1,mr:1,my:.5}}})),$=function(e){var n=e.children,r=e.onClose,t=V(e,["children","onClose"]);return(0,i.jsxs)(j.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){_(e,n,r[n])}))}return e}({sx:{m:0,p:2}},t,{children:[n,r?(0,i.jsx)(N.Z,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,i.jsx)(C.Z,{})}):null]}))};$.propTypes={children:S().node,onClose:S().func.isRequired};var q=function(e){var n=e.userName,r=e.userBio,t=X(),s=(0,h.useRouter)(),c=H(u.useState(!1),2),l=c[0],d=c[1],p=(0,w.Z)(),f=(0,Z.Z)(p.breakpoints.down("md")),j=function(){d(!1)},C=(0,u.useState)(n),N=C[0],A=C[1],S=(0,u.useState)(r),W=S[0],F=S[1],_=g.Z.auth().currentUser.uid,V=function(){var e=Y(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.Z.firestore().collection("users").doc(_).update({userName:N,userBio:W}),s.push("/home");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Y(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.firestore().collection("users").doc(_).get();case 2:(n=e.sent).exists?(r=n.data(),A(r.userName),F(r.userBio)):console.log("no profile saved in the database. edit profile now");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){var e=!1;return e||q(),function(){e=!0}}),[]),(0,i.jsxs)("div",{children:[(0,i.jsx)(x.Z,{size:"small",variant:"outlined",onClick:function(){d(!0)},startIcon:(0,i.jsx)(E.Z,{}),className:t.editText,children:"EDIT PROFILE"}),(0,i.jsxs)(m.Z,{fullScreen:f,open:l,onClose:j,"aria-labelledby":"responsive-dialog-title",children:[(0,i.jsx)($,{id:"customized-dialog-title",onClose:j,children:"Edit your profile"}),(0,i.jsxs)(v.Z,{children:[(0,i.jsxs)(a.Z,{sx:{padding:"30px"},children:[(0,i.jsx)(y.Z,{children:"Enter the credentials you wish to change below."}),(0,i.jsxs)(R.Z,{sx:{display:"flex",alignItems:"flex-end",marginBottom:"20px",marginTop:"10px"},children:[(0,i.jsx)(T.Z,{sx:{mr:1,my:.5},className:t.iconColor}),(0,i.jsx)(k.Z,{id:"change-username",defaultValue:N,label:"Name",variant:"standard",onChange:function(e){return A(e.target.value)}})]}),(0,i.jsxs)(R.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,i.jsx)(O.Z,{sx:{mr:1,my:.5},className:t.iconColor}),(0,i.jsx)(k.Z,{id:"change-bio",defaultValue:W,label:"Bio",variant:"standard",onChange:function(e){return F(e.target.value)}})]})]}),(0,i.jsx)(b.Z,{children:(0,i.jsx)(x.Z,{className:t.iconColor,autoFocus:!0,onClick:function(){j(),V()},children:"Submit"})}),(0,i.jsx)(U.Z,{}),(0,i.jsxs)(a.Z,{sx:{padding:"30px"},children:[(0,i.jsx)(y.Z,{children:"Change your password or email or delete your account."}),(0,i.jsxs)(B.Z,{sx:{marginTop:"10px"},children:[(0,i.jsx)(D.ZP,{disablePadding:!0,children:(0,i.jsxs)(M.Z,{onClick:function(){return s.push("/profile/changeemail/".concat(_))},children:[(0,i.jsx)(G.Z,{children:(0,i.jsx)(L.Z,{className:t.iconColor})}),(0,i.jsx)(z.Z,{primary:"Change Email"})]})}),(0,i.jsx)(D.ZP,{disablePadding:!0,children:(0,i.jsxs)(M.Z,{onClick:function(){return s.push("/profile/changepassword/".concat(_))},children:[(0,i.jsx)(G.Z,{children:(0,i.jsx)(I.Z,{className:t.iconColor})}),(0,i.jsx)(z.Z,{primary:"Change Password"})]})}),(0,i.jsx)(D.ZP,{disablePadding:!0,children:(0,i.jsxs)(M.Z,{onClick:function(){return s.push("/profile/deleteaccount/".concat(_))},children:[(0,i.jsx)(G.Z,{children:(0,i.jsx)(P.Z,{className:t.iconColor})}),(0,i.jsx)(z.Z,{primary:"Delete Account"})]})})]})]})]})]})]})};function K(e,n,r,t,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,o)}function Q(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function a(e){K(i,t,o,a,s,"next",e)}function s(e){K(i,t,o,a,s,"throw",e)}a(void 0)}))}}var J=(0,f.Z)((function(e){return{root:{position:"sticky",top:0},profileBG:{backgroundImage:"linear-gradient(".concat("rgba(134,168,231,1)",", ").concat("rgba(127,127,213,0.5)",")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:10,height:e.spacing(16),display:"flex",justifyContent:"center",marginTop:e.spacing(4)},avatar:{width:60,height:60,fontSize:32,backgroundColor:e.colours.pink,marginTop:-65,margin:"auto"},avatarWhite:{width:70,height:70,borderRadius:50,backgroundColor:"white",margin:"auto",marginTop:-30},profileText:{paddingTop:e.spacing(3)},userStats:(n={display:"flex",justifyContent:"space-evenly"},r=e.breakpoints.down("md"),t={flexDirection:"column"},r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n),userName:{paddingLeft:5,fontWeight:500},userNameContainer:{marginTop:e.spacing(2),marginBottom:e.spacing(1)},groupStats:{borderRadius:10,backgroundColor:e.colours.blue,width:e.spacing(6),height:e.spacing(6)},eventStats:{borderRadius:10,backgroundColor:e.colours.rose,width:e.spacing(6),height:e.spacing(6)},stats:{flexDirection:"column"},userBio:{marginBottom:e.spacing(6)},userEmail:{marginBottom:e.spacing(4)},userBioText:{color:e.text.gray},editIcon:{display:"flex",justifyContent:"center",marginTop:e.spacing(2)}};var n,r,t})),ee=function(){var e=g.Z.auth().currentUser.uid,n=g.Z.auth().currentUser.email,r=(0,u.useState)(""),t=r[0],f=r[1],x=(0,u.useState)(""),m=x[0],b=x[1],v=(0,u.useState)(""),y=v[0],j=v[1],Z=(0,u.useState)(""),w=Z[0],k=Z[1];(0,u.useEffect)((function(){function n(){return(n=Q(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.Z.firestore().collection("users").doc(e).get().then((function(e){j(e.data().userName),k(e.data().userBio)})).catch((function(e){console.log("Error getting documents: ",e)}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()})),(0,u.useEffect)((function(){function n(){return(n=Q(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.Z.firestore().collection("users").doc(e);case 2:n.sent.get().then((function(e){e.exists?f(e.data().userGroups.length):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function r(){return(r=Q(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.Z.firestore().collection("users").doc(e);case 2:n.sent.get().then((function(e){e.exists?b(e.data().userEvents.length):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),function(){r.apply(this,arguments)}()}));var C=J(),N=(0,h.useRouter)(),A=y.charAt(0).toLocaleUpperCase();return(0,i.jsxs)(a.Z,{className:C.root,children:[(0,i.jsx)("div",{className:C.profileText,children:(0,i.jsx)(s.Z,{variant:"h5",children:"Profile"})}),(0,i.jsx)("div",{className:C.profileBG}),(0,i.jsx)("div",{className:C.avatarWhite}),(0,i.jsx)("div",{children:(0,i.jsx)(c.Z,{className:C.avatar,children:A})}),(0,i.jsx)("div",{className:C.editIcon,children:(0,i.jsx)(q,{userName:y,userBio:w})}),(0,i.jsx)("div",{className:C.userNameContainer,children:(0,i.jsx)(s.Z,{variant:"h5",align:"center",className:C.userName,children:y})}),(0,i.jsx)("div",{className:C.userEmail,children:(0,i.jsx)(s.Z,{align:"center",className:C.userBioText,children:n})}),(0,i.jsx)("div",{className:C.userBio,children:(0,i.jsx)(s.Z,{align:"center",className:C.userBioText,children:w})}),(0,i.jsxs)("div",{className:C.userStats,children:[(0,i.jsx)(l.Z,{onClick:function(){N.push("/groups")},children:(0,i.jsx)(c.Z,{className:C.groupStats,children:(0,i.jsx)(d.Z,{})})}),(0,i.jsxs)("div",{className:C.stats,children:[(0,i.jsx)(s.Z,{fontWeight:"800",children:t}),(0,i.jsx)(s.Z,{color:"gray",children:"Groups"})]}),(0,i.jsx)(l.Z,{onClick:function(){N.push("/home")},children:(0,i.jsx)(c.Z,{className:C.eventStats,children:(0,i.jsx)(p.Z,{})})}),(0,i.jsxs)("div",{className:C.stats,children:[(0,i.jsx)(s.Z,{fontWeight:"800",children:m}),(0,i.jsx)(s.Z,{color:"gray",children:"Events"})]})]})]})}}}]);
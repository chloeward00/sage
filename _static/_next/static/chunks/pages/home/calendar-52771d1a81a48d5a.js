(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1272],{49913:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/calendar",function(){return n(79001)}])},42373:function(e,t,n){"use strict";var r=n(85893),a=(n(11075),n(61214)),o=n(86886),i=(n(72211),n(15503),n(11163),n(17320)),c=(n(20698),n(52168));n(89826);var u=(0,a.Z)((function(e){return{root:{display:"flex",backgroundColor:"#F9FAFA",minHeight:"100vh"},feed:{width:"100%"},rightBar:(t={backgroundColor:"white"},n=e.breakpoints.down("lg"),r={display:"none"},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),leftBar:{backgroundColor:"white"}};var t,n,r}));t.Z=function(e){var t=e.children,n=u();return(0,r.jsx)("div",{className:n.root,children:(0,r.jsxs)(o.ZP,{container:!0,children:[(0,r.jsx)(o.ZP,{item:!0,sm:2,className:n.leftBar,children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(o.ZP,{item:!0,sm:8,className:n.feed,children:t}),(0,r.jsx)(o.ZP,{item:!0,sm:2,className:n.rightBar,children:(0,r.jsx)(i.Z,{})})]})})}},79001:function(e,t,n){"use strict";n.r(t),n.d(t,{allEvents:function(){return x},StyleWrapper2:function(){return P}});var r=n(34051),a=n.n(r),o=n(85893),i=n(96476),c=n(24424),u=(n(1199),n(77773)),l=(n(11075),n(15503)),s=(n(70853),n(67294)),f=n(95934),d=n(42373),p=n(61214),v=n(27948);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,c,"next",e)}function c(e){h(o,r,a,i,c,"throw",e)}i(void 0)}))}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}function w(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var e,t,n=(e=["\n    .calendar{\n        contentHeight: 500,\n    }\n    .fc-event-past {\n        opacity: 0.4;\n    }\n\n    .fc { /* the calendar root */\n        max-width: 80%;\n        margin: 0 auto;\n    }\n\n    .fc-button.fc-prev-button, .fc-button.fc-next-button, .fc-button.fc-button-primary,.fc-event{\n    background: #A9B5DD;\n    background-image: none;\n\n    .fc-event{\n        background: #ff9999\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return j=function(){return n},n}var x=[],Z=(0,p.Z)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"}}}));t.default=function(){Z();var e=(0,s.useRef)(null),t=(0,s.useState)([]),n=t[0],r=t[1],f=function(){var e=m(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return n=prompt("Enter title",t.dateStr),r={title:n||t.dateStr,start:t.date,allDay:!0},x.push(r),o=l.Z.firestore(),i=l.Z.auth().currentUser.uid,e.next=8,l.Z.firestore().collection("userCalendar").doc(i).get();case 8:e.sent,o.collection("userCal/"+i+"/activities").add({event:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=m(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.Z.auth().currentUser.uid,e.next=3,l.Z.firestore().collection("userCal").doc(t).collection("activities").get();case 3:n=e.sent,[],o=n.docs.map((function(e){return g({id:e.id,title:e.data().event.title,start:e.data().event.start.toDate(),allDay:e.data().event.allDay},e.data())})),console.log(o),r(w(o));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){var e=!1;return e||p(),function(){e=!0}}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.Z,{children:(0,o.jsx)(v.Z,{sx:{padding:"5%"},children:(0,o.jsx)(P,{children:(0,o.jsx)(i.ZPm,{innerRef:e,editable:!0,nowIndicator:!0,plugins:[u.ZP,c.ZP],dateClick:f,selectable:!0,events:n})})})})})};var P=f.Z.div(j())}},function(e){e.O(0,[4870,1214,400,8112,1688,482,7473,8804,561,4755,1919,1493,9774,2888,179],(function(){return t=49913,e(e.s=t);var t}));var t=e.O();_N_E=t}]);